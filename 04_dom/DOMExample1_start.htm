<!DOCTYPE html>
<html>
<head>
    <title>Business Card DOM Example 1</title>
    <script type="text/javascript">
				
    window.addEventListener("load",function() {
    	document.querySelector("#showBCardData").addEventListener("click",displayBusinessCardData);
    });

    function displayBusinessCardData() {
        var xmldata1 = document.getElementById("xmldata1");
        var bizCard = xmldata1.getElementsByTagName("BusinessCard")[0];

        for(var i=0; i<bizCard.length;i++){
            var currentCard = bizCards[i];
            var newCard = document.createElement("div");
            newCard.setAttribute("class", "BusinessCard");

            var newName = document.createElement("div");
            newName.setAttribute("class", "Name");
            var nameStr = document.createTextNode(currentCard.getElementsByTagName("Name")[0].firstChild.data);
            newName.appendChild(nameStr);
            newCard.appendChild(newName);
        }

        var phones = currentCard.getElementsByTagName("phone");
        var newPhone;

        for(var j=0; j<phones.length;j++){
            newPhone = document.createElement("div");
            newPhone.setAttribute("class","phone");

            var labelStr = currentCard.getElementsByTagName("phone")[j].getAttribute("type") + ": ";
            var phoneStr = document.createTextNode(labelStr + 
            currentCard.getElementsByTagName("phone")[i].firstChild.data)

            newPhone.appendChild(phoneStr);
            newCard.appendChild(newPhone);
        }

        
        
        var name = "Name" + bizCard.getElementsByTagName("Name")[0].firstChild.data;
        var email = "email" + bizCard.getElementsByTagName("email")[0].firstChild.data;;
        
        alert("BusinessCard Data: \n\n" + name + "\n" + email);
    }
    </script>
</head>
<body>
<xml id="xmldata1" style="display:none">
	<BusinessCard>
		<Name>Joe Marini</Name>
		<phone type="mobile">(415) 555-4567</phone>
		<phone type="work">(800) 555-9876</phone>
		<phone type="fax">(510) 555-1234</phone>
		<email>joe@joe.com</email>
	</BusinessCard>
</xml>
    <button id="showBCardData">Show Business Card Data</button>
</body>
</html>
